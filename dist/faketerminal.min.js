!function(a){a.fakeTerminal||(a.fakeTerminal={}),a.fakeTerminal.command||(a.fakeTerminal.command={}),a.fakeTerminal.fakeTerminal=function(b,c){var d=this;return d.$el=a(b),d.el=b,d.$el.data("fakeTerminal.fakeTerminal",d),d.existing="",d.commands=[],d.history=[],d.historyIndex=null,d.init=function(){d.options=a.extend({},a.fakeTerminal.fakeTerminal.defaultOptions,c),d.setup(),d.registerCommands(),d.focusInput();for(var b=0;b<d.options.initCommands.length;b++)d.setCommand(d.options.initCommands[b]),d.enterCommand()},d.setup=function(){d.$el.addClass("faketerminal"),d.$el.addClass("faketerminal-"+d.options.theme),d.existing=d.$el.text().split("\n");var b,c,e,f,g,h,i,j;b=a("<div>").addClass("ft-header"),c=a("<ul>").addClass("ft-header-buttons"),e=[],e[0]=a("<li>").addClass("ft-header-button ft-header-button-close"),e[1]=a("<li>").addClass("ft-header-button ft-header-button-minimise"),e[2]=a("<li>").addClass("ft-header-button ft-header-button-maximise"),f=a("<ul>"),g=a("<li>").addClass("ft-command"),h=a("<span>").addClass("ft-prompt"),i=a("<span>").addClass("ft-input").prop("contenteditable",!0),j=a("<span>").addClass("ft-request-input").prop("contenteditable",!0),d.$el.empty().append(b.append(c.append(e[0]).append(e[1]).append(e[2]))).append(f.append(g.append(h).append(i).append(j))),d.setPrompt(),i.on("keydown",function(a){switch(a.keyCode){case 13:d.enterCommand();break;case 38:d.browseHistory("UP");break;case 40:d.browseHistory("DOWN")}}),a.each(d.existing,function(a,b){d.addLine(b)})},d.setPrompt=function(b,c){var e=d.$el.find(".ft-command .ft-prompt"),f=d.$el.find(".ft-command .ft-input"),g=d.$el.find(".ft-command .ft-request-input");b="undefined"==typeof b||0===a.trim(b).length?d.options.hostname:b,c="undefined"==typeof c||0===a.trim(c).length?d.options.username:c,c=c.toLowerCase().replace(/[^a-z0-9]/g,"");var h=b+":~ "+c+"$ ";e.text(h),f.css("padding-left",e.outerWidth()),g.css("padding-left",e.outerWidth())},d.registerCommands=function(){"object"==typeof a.fakeTerminal.command&&a.each(a.fakeTerminal.command,function(a,b){d.commands[a]=new b(d)})},d.addLine=function(b){b=a.parseHTML(b);var c="",e="";a(b).each(function(b,d){3===a(d).get(0).nodeType?e=a(d).get(0).nodeValue.replace(/ /g,"&nbsp;"):(a(d).html(a(d).text().replace(/ /g,"&nbsp;")),e=a(d).prop("outerHTML")),c+=e});var f=a("<li>").html(c);return d.$el.find(">ul li.ft-command").before(f),d.$el.find(">ul").scrollTop(d.$el.find(">ul").outerHeight()),d},d.enterCommand=function(){var b=d.$el.find(">ul li.ft-command .ft-input"),c=b.text();b.empty();var e,f;return e=c.split(" ").slice(0,1),e=a.trim(e),f=c.split(" ").slice(1),"object"==typeof d.commands[e]?(d.commands[e].execute(f,d),d.$el.find(">ul li.ft-command .ft-input")):d.addLine('command not found: "'+e+'"'),d.history.push(c),d.historyIndex=null,d},d.setCommand=function(a){var b=d.$el.find(">ul li.ft-command .ft-input");return b.text(a),d},d.browseHistory=function(a){"UP"===a?(null===d.historyIndex&&(d.historyIndex=d.history.length),d.historyIndex--,d.historyIndex<0&&(d.historyIndex=0)):"DOWN"===a&&(null===d.historyIndex&&(d.historyIndex=0),d.historyIndex++,d.historyIndex>=d.history.length&&(d.historyIndex=d.history.length));var b=d.history[d.historyIndex]||"";return d.setCommand(b),d},d.requestInput=function(b,c,e){var f=d.$el.find(">ul li.ft-command"),g=(d.$el.find(">ul li.ft-command .ft-input"),d.$el.find(">ul li.ft-command .ft-request-input")),h="";f.addClass("ft-request-input"),d.addLine(b),d.focusRequestInput(),a(g).off("keydown"),a(g).on("keydown",function(b){var f=!0;switch(b.keyCode){case 13:h=a.trim(g.text()),d.focusInput(),e[c](h),f=!1}return f})},d.destroy=function(){return d.$el.empty(),d.$el.html(d.existing),d},d.focusInput=function(){var a=d.$el.find(">ul li.ft-command"),b=d.$el.find(">ul li.ft-command .ft-input");return a.removeClass("ft-request-input"),b.empty().focus(),d},d.focusRequestInput=function(){var a=d.$el.find(">ul li.ft-command"),b=d.$el.find(">ul li.ft-command .ft-request-input");return a.addClass("ft-request-input"),b.empty().focus(),d},d.init(),d},a.fakeTerminal.fakeTerminal.defaultOptions={theme:"default",username:"root",hostname:window.location.host,historyLength:1e3,initCommands:["welcome"]},a.fakeTerminal.command._base=function(){var a=this;a.info=function(){return{"private":!0}},a.execute=function(){return[]}},a.fn.faketerminal=function(b){return this.each(function(){new a.fakeTerminal.fakeTerminal(this,b)})}}(jQuery),function(a){a.fakeTerminal||(a.fakeTerminal={}),a.fakeTerminal.command||(a.fakeTerminal.command={}),a.fakeTerminal.command.echo=function(b){var c=this;return c.info=function(){return{description:"Writes an argument to the standard output"}},c.execute=function(d){var e;return e=d.join(" "),e=a.trim(e),e=e.replace(/["']/g,""),e=e.replace(/["']/g,""),0===e.length&&(e=" "),b.addLine(e),c},c}}(jQuery),function(a){a.fakeTerminal||(a.fakeTerminal={}),a.fakeTerminal.command||(a.fakeTerminal.command={}),a.fakeTerminal.command.help=function(b){var c=this;return c.info=function(){return{description:"Displays information about the available commands"}},c.execute=function(d){var e,f=[],g={};if(0===d.length){f.push('The following commands are available, run <span class="ft-comment">help [command]</span> to find out more.'),f.push(" ");var h="";a.each(a.fakeTerminal.command,function(c){var d=new a.fakeTerminal.command[c](b);("function"!=typeof d.info||(g=d.info(),"boolean"!=typeof g["private"]||g["private"]!==!0))&&(h+=c+"    ")}),f.push(h),f.push(" ")}else{var i=d[0],j=!1;a.each(a.fakeTerminal.command,function(a){a===i&&(j=!0)}),j?(e=new a.fakeTerminal.command[i](b),"function"==typeof e.info&&(g=e.info(),console.log(typeof g["private"]),"string"==typeof g.description?f=[" ",i+" -- "+g.description," "]:"object"==typeof g.description&&(f=g.description)),0===f.length&&(f=[" ",'No description for "'+i+'"'," "])):f=[" ",'"'+i+'" is not a valid command'," "]}for(var k=0;k<f.length;k++)b.addLine(f[k]);return c},c},a.fakeTerminal.command.man=function(){return a.fakeTerminal.command.help.apply(this,arguments),this}}(jQuery),function(a){a.fakeTerminal||(a.fakeTerminal={}),a.fakeTerminal.command||(a.fakeTerminal.command={}),a.fakeTerminal.command.history=function(a){var b=this;return b.info=function(){return{description:"Displays the command history, up to "+a.options.historyLength+" items"}},b.execute=function(){a.addLine("  ");for(var c=0;c<a.history.length;c++)a.addLine(c+"  "+a.history[c]);return b},b}}(jQuery);
//# sourceMappingURL=faketerminal.min.js.map